<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Admin Dashboard - Gym Management</title>
  <link rel="stylesheet" href="dashboard.css" />

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/10.3.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.3.1/firebase-database-compat.js"></script>
  <script src="firebase-config.js"></script>
</head>
<body>

  <!-- Logout Button -->
  <button id="logoutBtn" style="position: absolute; top: 20px; right: 20px;">🚪 Logout</button>

  <!-- Dashboard Layout -->
  <div id="adminDashboard" class="section">
    <h2>🏋️ Admin Dashboard - Samarth Gym</h2>

    <!-- Member Form -->
    <form id="addMemberForm">
      <input type="text" id="memberName" placeholder="Member Name" required />
      <input type="number" id="memberAge" placeholder="Age" required />
      <select id="memberPackage" required>
        <option value="">Select Package</option>
        <option value="Basic">Basic</option>
        <option value="Premium">Premium</option>
        <option value="Gold">Gold</option>
      </select>
      <button type="submit">Add Member</button>
    </form>

    <!-- Search -->
    <input type="text" id="searchInput" placeholder="Search by Name or ID" />

    <!-- Members Table -->
    <table border="1" width="100%">
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Age</th>
          <th>Package</th>
          <th>Joined On</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="membersTableBody"></tbody>
    </table>

    <!-- Notice Modal -->
    <div id="noticeModal" class="modal" style="display: none;">
      <div class="modal-content">
        <h3>Send Notice</h3>
        <form id="noticeForm">
          <textarea id="noticeMessage" placeholder="Type your notice..." required></textarea>
          <button type="submit">Send</button>
          <button type="button" onclick="closeNoticeModal()">Cancel</button>
        </form>
      </div>
    </div>

    <button onclick="openNoticeModal()">📢 Send Notice</button>
  </div>

<!-- Receipt Modal -->
<div id="receiptModal" class="modal" style="display: none;">
  <div class="modal-content" id="receiptContent">
    <!-- JS fills this content dynamically -->
  </div>
</div>


  <!-- JS Script -->
  <script src="dashboard.js"></script>

  <!-- Close receipt modal on outside click -->
  <script>
    window.addEventListener("click", function (e) {
      const modal = document.getElementById("receiptModal");
      const content = document.getElementById("receiptContent");
      if (modal.style.display === "flex" && !content.contains(e.target)) {
        closeReceipt();
      }
    });
  </script>
</body>
</html>
